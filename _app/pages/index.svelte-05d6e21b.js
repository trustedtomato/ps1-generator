var Ft=Object.defineProperty,Ot=Object.defineProperties;var Wt=Object.getOwnPropertyDescriptors;var mt=Object.getOwnPropertySymbols;var $t=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable;var pt=(l,e,t)=>e in l?Ft(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Le=(l,e)=>{for(var t in e||(e={}))$t.call(e,t)&&pt(l,t,e[t]);if(mt)for(var t of mt(e))qt.call(e,t)&&pt(l,t,e[t]);return l},Ve=(l,e)=>Ot(l,Wt(e));import{S as je,i as Fe,s as Oe,e as _,k as B,c as g,a as k,n as P,d as f,J as de,f as V,H as i,b as y,K as we,L as Te,I as Ae,t as A,g as S,C as Ut,M as _t,j as We,m as $e,o as qe,h as Ue,N as Xe,O as Xt,P as Yt,x as Ne,Q as Gt,u as Be,v as Ye,R as Jt,T as gt,w as zt,U as Ge,V as Se,W as Je,X as Kt,Y as Qt,Z as Zt,r as el,_ as tl,$ as ll,a0 as ol}from"../chunks/vendor-7b347ad2.js";function bt(l){l.childNodes.forEach(e=>l.removeChild(e))}function al(){return new Promise(l=>requestAnimationFrame(l))}const Pe=["000","A00","0A0","AA0","00A","A0A","0AA","AAA"],nl=l=>l.replace(/0/g,"5").replace(/A/g,"F"),ze=Pe.map(nl),Re=new Map([...Pe.map((l,e)=>[l,e]),...ze.map((l,e)=>[l,e])]);function rl(l){if(Re.has(l)){const e=`3${Re.get(l)}`;return ze.includes(l)?`1;${e}`:e}throw new Error("Coloring currently only supports ANSI colors!")}function sl(l){if(Re.has(l))return`4${Re.get(l)}`;throw new Error("Coloring currently only supports ANSI colors!")}const vt=[{className:"text-decoration--underline",escapeCode:"4",text:"underline"},{className:"text-decoration--double-underline",escapeCode:"21",text:"double underline"},{className:"text-decoration--italic",escapeCode:"3",text:"italic"},{className:"text-decoration--line-through",escapeCode:"9",text:"strikethrough"}],il="0;10",cl=l=>`\\e[${l.join(";")}m`;function ul(l,e,t,o){const a=[il];a.push(rl(e)),a.push(sl(t));for(const s of o)a.push(s.escapeCode);return`${cl(a)}${l}`}function kt(l,e,t){const o=l.slice();return o[3]=e[t],o}function yt(l,e,t){const o=l.slice();return o[6]=e[t],o}function wt(l){let e,t,o,a;return{c(){e=_("button"),this.h()},l(s){e=g(s,"BUTTON",{class:!0,style:!0}),k(e).forEach(f),this.h()},h(){y(e,"class","color-tile"),y(e,"style",t="background: #"+l[6]+"; "+(l[6]===l[0]?"position: relative; outline: 2px solid red":""))},m(s,n){V(s,e,n),o||(a=we(e,"pointerdown",l[2](l[6])),o=!0)},p(s,n){l=s,n&1&&t!==(t="background: #"+l[6]+"; "+(l[6]===l[0]?"position: relative; outline: 2px solid red":""))&&y(e,"style",t)},d(s){s&&f(e),o=!1,a()}}}function Et(l){let e,t,o=l[3],a=[];for(let s=0;s<o.length;s+=1)a[s]=wt(yt(l,o,s));return{c(){e=_("div");for(let s=0;s<a.length;s+=1)a[s].c();t=B(),this.h()},l(s){e=g(s,"DIV",{style:!0});var n=k(e);for(let r=0;r<a.length;r+=1)a[r].l(n);t=P(n),n.forEach(f),this.h()},h(){de(e,"display","flex")},m(s,n){V(s,e,n);for(let r=0;r<a.length;r+=1)a[r].m(e,null);i(e,t)},p(s,n){if(n&7){o=s[3];let r;for(r=0;r<o.length;r+=1){const h=yt(s,o,r);a[r]?a[r].p(h,n):(a[r]=wt(h),a[r].c(),a[r].m(e,t))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}},d(s){s&&f(e),Te(a,s)}}}function fl(l){let e,t=l[1],o=[];for(let a=0;a<t.length;a+=1)o[a]=Et(kt(l,t,a));return{c(){e=_("div");for(let a=0;a<o.length;a+=1)o[a].c()},l(a){e=g(a,"DIV",{});var s=k(e);for(let n=0;n<o.length;n+=1)o[n].l(s);s.forEach(f)},m(a,s){V(a,e,s);for(let n=0;n<o.length;n+=1)o[n].m(e,null)},p(a,[s]){if(s&7){t=a[1];let n;for(n=0;n<t.length;n+=1){const r=kt(a,t,n);o[n]?o[n].p(r,s):(o[n]=Et(r),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=t.length}},i:Ae,o:Ae,d(a){a&&f(e),Te(o,a)}}}function dl(l,e,t){let{value:o=Pe[0]}=e;const a=[Pe,ze];function s(n){return function(){t(0,o=n)}}return l.$$set=n=>{"value"in n&&t(0,o=n.value)},[o,a,s]}class Ct extends je{constructor(e){super();Fe(this,e,dl,fl,Oe,{value:0})}}function Tt(l,e,t){const o=l.slice();return o[2]=e[t],o}function At(l){let e,t,o=l[2].text+"",a,s,n,r,h,w;return{c(){e=_("button"),t=_("div"),a=A(o),n=B(),this.h()},l(d){e=g(d,"BUTTON",{class:!0,style:!0});var m=k(e);t=g(m,"DIV",{class:!0});var Y=k(t);a=S(Y,o),Y.forEach(f),n=P(m),m.forEach(f),this.h()},h(){y(t,"class",s=l[2].className),y(e,"class","text-decoration-tile"),y(e,"style",r=l[0].has(l[2])?"outline: 2px solid red":"")},m(d,m){V(d,e,m),i(e,t),i(t,a),i(e,n),h||(w=we(e,"pointerdown",l[1](l[2])),h=!0)},p(d,m){l=d,m&1&&r!==(r=l[0].has(l[2])?"outline: 2px solid red":"")&&y(e,"style",r)},d(d){d&&f(e),h=!1,w()}}}function hl(l){let e,t=vt,o=[];for(let a=0;a<t.length;a+=1)o[a]=At(Tt(l,t,a));return{c(){e=_("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=g(a,"DIV",{class:!0});var s=k(e);for(let n=0;n<o.length;n+=1)o[n].l(s);s.forEach(f),this.h()},h(){y(e,"class","text-decoration-container")},m(a,s){V(a,e,s);for(let n=0;n<o.length;n+=1)o[n].m(e,null)},p(a,[s]){if(s&3){t=vt;let n;for(n=0;n<t.length;n+=1){const r=Tt(a,t,n);o[n]?o[n].p(r,s):(o[n]=At(r),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=t.length}},i:Ae,o:Ae,d(a){a&&f(e),Te(o,a)}}}function ml(l,e,t){let{value:o=new Set}=e;function a(s){return function(){o.has(s)?o.delete(s):o.add(s),t(0,o)}}return l.$$set=s=>{"value"in s&&t(0,o=s.value)},[o,a]}class pl extends je{constructor(e){super();Fe(this,e,ml,hl,Oe,{value:0})}}function St(l,e,t,o){return l.addEventListener(e,t,o),{destroy(){l.removeEventListener(e,t,o)}}}function Ke(l){const e=l.getBoundingClientRect(),t=e.left+scrollX,o=e.right+scrollX,a=e.top+scrollY,s=e.bottom+scrollY;return{x:t,left:t,right:o,y:a,top:a,bottom:s,width:e.width,height:e.height,toJSON:null}}function se(l){return l.data||(l.data={format:{color:"AAA",backgroundColor:"000",textStyles:new Set},customText:typeof l.result=="function"?Array.from({length:l.result.length},()=>""):[]}),l.data}const he=Ut([]),Qe=[{label:'Date in "Weekday Month Date" format (\\d)',result:"\\d",example:"Tue May 26"},{label:'Hostname up to the first "." (\\h)',result:"\\d",example:"mycomputer"},{label:"Hostname (\\H)",result:"\\H",example:"mycomputer.localdomain"},{label:"Number of jobs currently managed by the shell (\\j)",result:"\\j",example:"3"},{label:"Basename of the shell's terminal device name (\\l)",result:"\\l",example:"0"},{label:"Name of the shell (\\s)",result:"\\s",example:"bash"},{label:"Time in 24-hour HH:MM:SS format (\\t)",result:"\\t",example:"22:46:03"},{label:"Time in 12-hour HH:MM:SS format (\\T)",result:"\\T",example:"10:46:03"},{label:"Time in 12-hour am/pm format (\\@)",result:"\\@",example:"10:46 PM"},{label:"Time in 24-hour HH:MM format (\\A)",result:"\\A",example:"22:46"},{label:"Username of the current user (\\u)",result:"\\u",example:"potatocaptain"},{label:"Version of Bash (\\v)",result:"\\v",example:"5.1"},{label:"Version of Bash + patchlevel (\\V)",result:"\\V",example:"5.1.8"},{label:"Current working directory (\\w)",result:"\\w",example:"~/Documents/mydir"},{label:"Current working directory's basename (\\W)",result:"\\W",example:"mydir"},{label:"History number of this command (\\!)",result:"\\W",example:"127"},{label:"Command number of this command (\\#)",result:"\\#",example:"26"},{label:"# if the effective UID is 0, otherwise $",result:"\\$",example:"$"},{label:"Text",result:l=>l.replace(/\\/g,"\\\\"),example:l=>l}].map((l,e)=>Ve(Le({},l),{type:String(e)})),_l=_t(he,l=>l.map(e=>({format:se(e).format,text:typeof e.example=="function"?e.example(...se(e).customText):e.example}))),gl=_t(he,l=>{const e=l.map(t=>ul(typeof t.result=="function"?t.result(...se(t).customText):t.result,se(t).format.color,se(t).format.backgroundColor,se(t).format.textStyles)).join("");return e?`"${e}\\e[0;10m"`:""});function bl(l){let e=!1;return async(...t)=>{e||(e=!0,await l(...t),e=!1)}}function It(l,e,t){const o=l.slice();return o[26]=e[t].format,o[27]=e[t].text,o}function Dt(l,e,t){const o=l.slice();return o[30]=e[t],o[31]=e,o[32]=t,o}function Nt(l,e,t){const o=l.slice();return o[33]=e[t],o[34]=e,o[35]=t,o}function Bt(l,e,t){const o=l.slice();return o[30]=e[t],o}function Pt(l,e){let t,o,a=e[30].label+"",s,n,r,h,w;return{key:l,first:null,c(){t=_("span"),o=_("span"),s=A(a),n=B(),this.h()},l(d){t=g(d,"SPAN",{class:!0,"data-type":!0});var m=k(t);o=g(m,"SPAN",{class:!0});var Y=k(o);s=S(Y,a),Y.forEach(f),n=P(m),m.forEach(f),this.h()},h(){y(o,"class","item__label"),y(t,"class","item"),y(t,"data-type",r=e[30].type),this.first=t},m(d,m){V(d,t,m),i(t,o),i(o,s),i(t,n),h||(w=we(t,"pointerdown",e[10]),h=!0)},p(d,m){e=d},d(d){d&&f(t),h=!1,w()}}}function Rt(l){let e,t,o,a,s,n=se(l[30]).customText,r=[];for(let h=0;h<n.length;h+=1)r[h]=xt(Nt(l,n,h));return{c(){e=_("span"),t=A("Content:"),o=B();for(let h=0;h<r.length;h+=1)r[h].c();a=B(),s=_("hr")},l(h){e=g(h,"SPAN",{});var w=k(e);t=S(w,"Content:"),w.forEach(f),o=P(h);for(let d=0;d<r.length;d+=1)r[d].l(h);a=P(h),s=g(h,"HR",{})},m(h,w){V(h,e,w),i(e,t),V(h,o,w);for(let d=0;d<r.length;d+=1)r[d].m(h,w);V(h,a,w),V(h,s,w)},p(h,w){if(w[0]&4){n=se(h[30]).customText;let d;for(d=0;d<n.length;d+=1){const m=Nt(h,n,d);r[d]?r[d].p(m,w):(r[d]=xt(m),r[d].c(),r[d].m(a.parentNode,a))}for(;d<r.length;d+=1)r[d].d(1);r.length=n.length}},d(h){h&&f(e),h&&f(o),Te(r,h),h&&f(a),h&&f(s)}}}function xt(l){let e,t,o,a;function s(...n){return l[14](l[33],l[34],l[35],...n)}return{c(){e=_("input"),this.h()},l(n){e=g(n,"INPUT",{}),this.h()},h(){e.value=t=l[33]},m(n,r){V(n,e,r),o||(a=we(e,"input",s),o=!0)},p(n,r){l=n,r[0]&4&&t!==(t=l[33])&&e.value!==t&&(e.value=t)},d(n){n&&f(e),o=!1,a()}}}function Mt(l,e){let t,o,a=e[30].label+"",s,n,r,h=se(e[30]).customText.length>0,w,d,m,Y,H,ie,E,M,Z,j,$,K,ce,G,ue,oe,J,fe,F,ae,u,v,R,D,z=Ae,L,O,Q,I=h&&Rt(e);function me(C){e[15](C,e[30])}let te={};e[30].data.format.color!==void 0&&(te.value=e[30].data.format.color),H=new Ct({props:te}),Se.push(()=>Je(H,"value",me));function le(C){e[16](C,e[30])}let pe={};e[30].data.format.backgroundColor!==void 0&&(pe.value=e[30].data.format.backgroundColor),$=new Ct({props:pe}),Se.push(()=>Je($,"value",le));function ge(C){e[17](C,e[30])}let ne={};return e[30].data.format.textStyles!==void 0&&(ne.value=e[30].data.format.textStyles),J=new pl({props:ne}),Se.push(()=>Je(J,"value",ge)),{key:l,first:null,c(){t=_("span"),o=_("span"),s=A(a),n=B(),r=_("div"),I&&I.c(),w=B(),d=_("label"),m=A("Text color:"),Y=B(),We(H.$$.fragment),E=B(),M=_("label"),Z=A("Background color:"),j=B(),We($.$$.fragment),ce=B(),G=_("label"),ue=A("Text format:"),oe=B(),We(J.$$.fragment),ae=B(),this.h()},l(C){t=g(C,"SPAN",{class:!0,"data-id":!0});var N=k(t);o=g(N,"SPAN",{class:!0});var x=k(o);s=S(x,a),x.forEach(f),n=P(N),r=g(N,"DIV",{class:!0,style:!0});var T=k(r);I&&I.l(T),w=P(T),d=g(T,"LABEL",{});var ee=k(d);m=S(ee,"Text color:"),ee.forEach(f),Y=P(T),$e(H.$$.fragment,T),E=P(T),M=g(T,"LABEL",{});var q=k(M);Z=S(q,"Background color:"),q.forEach(f),j=P(T),$e($.$$.fragment,T),ce=P(T),G=g(T,"LABEL",{});var ke=k(G);ue=S(ke,"Text format:"),ke.forEach(f),oe=P(T),$e(J.$$.fragment,T),T.forEach(f),ae=P(N),N.forEach(f),this.h()},h(){y(o,"class","item__label"),y(r,"class","format-dialog"),y(r,"style",F=e[1]===e[30].id?e[4]?"right: 0":"":"display: none"),y(t,"class",u="item "+(e[6]&&this.first===e[6]?"placing-item-on-the-"+e[7]:"")),y(t,"data-id",v=e[30].id),this.first=t},m(C,N){V(C,t,N),i(t,o),i(o,s),i(t,n),i(t,r),I&&I.m(r,null),i(r,w),i(r,d),i(d,m),i(r,Y),qe(H,r,null),i(r,E),i(r,M),i(M,Z),i(r,j),qe($,r,null),i(r,ce),i(r,G),i(G,ue),i(r,oe),qe(J,r,null),i(t,ae),L=!0,O||(Q=[we(t,"pointerdown",e[11]),we(t,"contextmenu",e[12])],O=!0)},p(C,N){e=C,(!L||N[0]&4)&&a!==(a=e[30].label+"")&&Ue(s,a),N[0]&4&&(h=se(e[30]).customText.length>0),h?I?I.p(e,N):(I=Rt(e),I.c(),I.m(r,w)):I&&(I.d(1),I=null);const x={};!ie&&N[0]&4&&(ie=!0,x.value=e[30].data.format.color,Xe(()=>ie=!1)),H.$set(x);const T={};!K&&N[0]&4&&(K=!0,T.value=e[30].data.format.backgroundColor,Xe(()=>K=!1)),$.$set(T);const ee={};!fe&&N[0]&4&&(fe=!0,ee.value=e[30].data.format.textStyles,Xe(()=>fe=!1)),J.$set(ee),(!L||N[0]&22&&F!==(F=e[1]===e[30].id?e[4]?"right: 0":"":"display: none"))&&y(r,"style",F),(!L||N[0]&192&&u!==(u="item "+(e[6]&&this.first===e[6]?"placing-item-on-the-"+e[7]:"")))&&y(t,"class",u),(!L||N[0]&4&&v!==(v=e[30].id))&&y(t,"data-id",v)},r(){D=t.getBoundingClientRect()},f(){Xt(t),z()},a(){z(),z=Yt(t,D,Kt,{duration:400})},i(C){L||(Ne(H.$$.fragment,C),Ne($.$$.fragment,C),Ne(J.$$.fragment,C),R||Gt(()=>{R=Qt(t,ol,{duration:400}),R.start()}),L=!0)},o(C){Be(H.$$.fragment,C),Be($.$$.fragment,C),Be(J.$$.fragment,C),L=!1},d(C){C&&f(t),I&&I.d(),Ye(H),Ye($),Ye(J),O=!1,Jt(Q)}}}function Ht(l){let e,t=l[27]+"",o,a;return{c(){e=_("span"),o=A(t),this.h()},l(s){e=g(s,"SPAN",{class:!0,style:!0});var n=k(e);o=S(n,t),n.forEach(f),this.h()},h(){y(e,"class",a="terminal-chunk "+[...l[26].textStyles].map(jt).join(" ")),de(e,"color","#"+l[26].color),de(e,"background-color","#"+l[26].backgroundColor)},m(s,n){V(s,e,n),i(e,o)},p(s,n){n[0]&256&&t!==(t=s[27]+"")&&Ue(o,t),n[0]&256&&a!==(a="terminal-chunk "+[...s[26].textStyles].map(jt).join(" "))&&y(e,"class",a),n[0]&256&&de(e,"color","#"+s[26].color),n[0]&256&&de(e,"background-color","#"+s[26].backgroundColor)},d(s){s&&f(e)}}}function Lt(l){let e,t;return{c(){e=_("span"),t=A(l[9]),this.h()},l(o){e=g(o,"SPAN",{class:!0});var a=k(e);t=S(a,l[9]),a.forEach(f),this.h()},h(){y(e,"class","terminal-chunk")},m(o,a){V(o,e,a),i(e,t)},p(o,a){a[0]&512&&Ue(t,o[9])},d(o){o&&f(e)}}}function vl(l){let e,t,o,a,s,n,r=[],h=new Map,w,d,m=[],Y=new Map,H,ie,E,M,Z,j,$,K,ce,G,ue,oe,J,fe,F,ae,u,v,R,D,z,L,O,Q,I,me,te,le,pe,ge,ne,C,N,x,T,ee,q,ke,xe,Ie,be,Ee,De=Qe;const Ze=c=>c[30].type;for(let c=0;c<De.length;c+=1){let b=Bt(l,De,c),p=Ze(b);h.set(p,r[c]=Pt(p,b))}let Ce=l[2];const et=c=>c[30].id;for(let c=0;c<Ce.length;c+=1){let b=Dt(l,Ce,c),p=et(b);Y.set(p,m[c]=Mt(p,b))}let ye=l[8],U=[];for(let c=0;c<ye.length;c+=1)U[c]=Ht(It(l,ye,c));let X=l[9]&&Lt(l);return{c(){e=_("h1"),t=A("PS1 generator"),o=B(),a=_("main"),s=_("div"),n=_("div");for(let c=0;c<r.length;c+=1)r[c].c();w=B(),d=_("div");for(let c=0;c<m.length;c+=1)m[c].c();ie=B(),E=_("div"),M=_("div"),Z=A(`Example:
      `),j=_("span");for(let c=0;c<U.length;c+=1)U[c].c();$=B(),K=_("div"),ce=A(`PS1 variable:
      `),G=_("span"),X&&X.c(),ue=B(),oe=_("h2"),J=A("How to use"),fe=B(),F=_("ul"),ae=_("li"),u=A("Drag blocks from the first box and drop them into the second to make up your own PS1 variable!"),v=B(),R=_("li"),D=A("To change the order of the blocks, drag and drop them to another place with left-click."),z=B(),L=_("li"),O=A("To remove a block, drag and drop them outside the second box with left-click."),Q=B(),I=_("li"),me=A("To change the format of a block, right-click on it."),te=A(`
    For a detailed description of the special characters (the things which start with a backslash (\\))
    check out the `),le=_("a"),pe=A("Bash reference manual"),ge=A(`.
    `),ne=_("h2"),C=A("About"),N=A(`
    This web app was developed with love by `),x=_("a"),T=A("Tam\xE1s Halasi"),ee=A(`,
    see the `),q=_("a"),ke=A("source code on GitHub"),xe=A("."),Ie=B(),be=_("span"),this.h()},l(c){e=g(c,"H1",{});var b=k(e);t=S(b,"PS1 generator"),b.forEach(f),o=P(c),a=g(c,"MAIN",{class:!0});var p=k(a);s=g(p,"DIV",{class:!0});var ve=k(s);n=g(ve,"DIV",{class:!0});var tt=k(n);for(let re=0;re<r.length;re+=1)r[re].l(tt);tt.forEach(f),w=P(ve),d=g(ve,"DIV",{class:!0});var lt=k(d);for(let re=0;re<m.length;re+=1)m[re].l(lt);lt.forEach(f),ve.forEach(f),ie=P(p),E=g(p,"DIV",{class:!0});var W=k(E);M=g(W,"DIV",{style:!0});var Me=k(M);Z=S(Me,`Example:
      `),j=g(Me,"SPAN",{class:!0});var ot=k(j);for(let re=0;re<U.length;re+=1)U[re].l(ot);ot.forEach(f),Me.forEach(f),$=P(W),K=g(W,"DIV",{style:!0});var He=k(K);ce=S(He,`PS1 variable:
      `),G=g(He,"SPAN",{class:!0});var at=k(G);X&&X.l(at),at.forEach(f),He.forEach(f),ue=P(W),oe=g(W,"H2",{});var nt=k(oe);J=S(nt,"How to use"),nt.forEach(f),fe=P(W),F=g(W,"UL",{});var _e=k(F);ae=g(_e,"LI",{});var rt=k(ae);u=S(rt,"Drag blocks from the first box and drop them into the second to make up your own PS1 variable!"),rt.forEach(f),v=P(_e),R=g(_e,"LI",{});var st=k(R);D=S(st,"To change the order of the blocks, drag and drop them to another place with left-click."),st.forEach(f),z=P(_e),L=g(_e,"LI",{});var it=k(L);O=S(it,"To remove a block, drag and drop them outside the second box with left-click."),it.forEach(f),Q=P(_e),I=g(_e,"LI",{});var ct=k(I);me=S(ct,"To change the format of a block, right-click on it."),ct.forEach(f),_e.forEach(f),te=S(W,`
    For a detailed description of the special characters (the things which start with a backslash (\\))
    check out the `),le=g(W,"A",{href:!0});var ut=k(le);pe=S(ut,"Bash reference manual"),ut.forEach(f),ge=S(W,`.
    `),ne=g(W,"H2",{});var ft=k(ne);C=S(ft,"About"),ft.forEach(f),N=S(W,`
    This web app was developed with love by `),x=g(W,"A",{href:!0});var dt=k(x);T=S(dt,"Tam\xE1s Halasi"),dt.forEach(f),ee=S(W,`,
    see the `),q=g(W,"A",{href:!0});var ht=k(q);ke=S(ht,"source code on GitHub"),ht.forEach(f),xe=S(W,"."),W.forEach(f),p.forEach(f),Ie=P(c),be=g(c,"SPAN",{class:!0}),k(be).forEach(f),this.h()},h(){y(n,"class","item-container item-container--source"),y(d,"class",H="item-container item-container--board "+(l[5]?"dragging-over":"")),y(s,"class","workplace"),y(j,"class","terminal"),de(M,"line-height","0"),de(M,"white-space","nowrap"),y(G,"class","terminal"),de(K,"line-height","0"),de(K,"white-space","nowrap"),y(le,"href","https://www.gnu.org/software/bash/manual/html_node/Controlling-the-Prompt.html"),y(x,"href","https://github.com/trustedtomato"),y(q,"href","https://github.com/trustedtomato/ps1-generator"),y(E,"class","result-and-additional-text"),y(a,"class","main"),y(be,"class","dragged-container")},m(c,b){V(c,e,b),i(e,t),V(c,o,b),V(c,a,b),i(a,s),i(s,n);for(let p=0;p<r.length;p+=1)r[p].m(n,null);i(s,w),i(s,d);for(let p=0;p<m.length;p+=1)m[p].m(d,null);l[18](d),i(a,ie),i(a,E),i(E,M),i(M,Z),i(M,j);for(let p=0;p<U.length;p+=1)U[p].m(j,null);i(E,$),i(E,K),i(K,ce),i(K,G),X&&X.m(G,null),i(E,ue),i(E,oe),i(oe,J),i(E,fe),i(E,F),i(F,ae),i(ae,u),i(F,v),i(F,R),i(R,D),i(F,z),i(F,L),i(L,O),i(F,Q),i(F,I),i(I,me),i(E,te),i(E,le),i(le,pe),i(E,ge),i(E,ne),i(ne,C),i(E,N),i(E,x),i(x,T),i(E,ee),i(E,q),i(q,ke),i(E,xe),V(c,Ie,b),V(c,be,b),l[19](be),Ee=!0},p(c,b){if(b[0]&1024&&(De=Qe,r=gt(r,b,Ze,1,c,De,h,n,Zt,Pt,null,Bt)),b[0]&6358){Ce=c[2],el();for(let p=0;p<m.length;p+=1)m[p].r();m=gt(m,b,et,1,c,Ce,Y,d,tl,Mt,null,Dt);for(let p=0;p<m.length;p+=1)m[p].a();zt()}if((!Ee||b[0]&32&&H!==(H="item-container item-container--board "+(c[5]?"dragging-over":"")))&&y(d,"class",H),b[0]&256){ye=c[8];let p;for(p=0;p<ye.length;p+=1){const ve=It(c,ye,p);U[p]?U[p].p(ve,b):(U[p]=Ht(ve),U[p].c(),U[p].m(j,null))}for(;p<U.length;p+=1)U[p].d(1);U.length=ye.length}c[9]?X?X.p(c,b):(X=Lt(c),X.c(),X.m(G,null)):X&&(X.d(1),X=null)},i(c){if(!Ee){for(let b=0;b<Ce.length;b+=1)Ne(m[b]);Ee=!0}},o(c){for(let b=0;b<m.length;b+=1)Be(m[b]);Ee=!1},d(c){c&&f(e),c&&f(o),c&&f(a);for(let b=0;b<r.length;b+=1)r[b].d();for(let b=0;b<m.length;b+=1)m[b].d();l[18](null),Te(U,c),X&&X.d(),c&&f(Ie),c&&f(be),l[19](null)}}}const Vt=1,jt=l=>l.className;function kl(l,e,t){let o,a,s;Ge(l,he,u=>t(2,o=u)),Ge(l,_l,u=>t(8,a=u)),Ge(l,gl,u=>t(9,s=u));let n,r,h,w=[],d=0,m=null,Y=!1,H=!1;async function ie(){if(!(!r||H)){for(H=!0;await al(),r.children.length!==0;){const u=r.children.item(r.children.length-1).getAttribute("style");if(!u.includes("running")||!u.includes("animation"))break}h=Ke(r),t(13,w=Array.from(r.children,u=>{const v=Ke(u);return{el:u,top:v.top,right:v.right,bottom:v.bottom,left:v.left}})),H=!1,console.log("recalculated board rects!")}}window.addEventListener("resize",()=>{t(0,r)});let E=!1,M,Z,j;function $(u,{onDragStart:v}={}){const R=u.currentTarget;let D=null;const z=St(document,"pointermove",bl(async({pageX:O,pageY:Q})=>{const I=O-u.pageX,me=Q-u.pageY;if(!D&&(Math.abs(I)>Vt||Math.abs(me)>Vt)){v==null||v(),D=Ke(R);const te=R.cloneNode(!0);te.style.margin="0px",bt(n),n.appendChild(te)}if(!!D)if(t(3,n.style.transform=`translate(${D.left+I-scrollX}px, ${D.top+me-scrollY}px)`,n),t(5,E=h.left<O&&h.right>O&&h.top<Q&&h.bottom>Q),E&&!H){let te=1/0,le;for(const x of w){const T=Math.abs(x.top-Q),ee=Math.abs(x.bottom-Q),q=Math.min(T,ee);q<te&&(te=q,le=x)}if(!le)return;const pe=5,ge=w.filter(x=>Math.abs(x.top-le.top)<pe);let ne=1/0,C=!0,N;for(const x of ge){const T=Math.abs(x.left-O),ee=Math.abs(x.right-O),q=Math.min(T,ee);q<ne&&(ne=q,N=x,C=q===T)}t(6,M=N.el),t(7,Z=C?"left":"right")}else t(6,M=null),t(7,Z=null)})),L=St(document,"pointerup",()=>{if(z.destroy(),L.destroy(),j&&E){if(M){let O=o.findIndex(Q=>Q.id===M.dataset.id);Z==="right"&&(O+=1),o.splice(O,0,j)}else o.push(j);he.set(o),j=null}t(5,E=!1),t(6,M=null),t(7,Z=null),bt(n)})}function K(u){var v,R;const D=(R=(v=u.currentTarget)===null||v===void 0?void 0:v.dataset)===null||R===void 0?void 0:R.type;typeof D=="string"&&(u.preventDefault(),$(u,{onDragStart(){j=Ve(Le({},Qe.find(z=>z.type===D)),{id:String(d++)})}}))}function ce(u){var v,R;if(u.button!==0)return;const D=u.target,z=((v=D==null?void 0:D.dataset)===null||v===void 0?void 0:v.id)||((R=D==null?void 0:D.closest(".item__label"))===null||R===void 0?void 0:R.parentElement.dataset.id);if(typeof z!="string")return;u.preventDefault();const L=o.findIndex(O=>O.id===z);if(L===-1){console.error("cannot find boardItem with id:",z);return}$(u,{onDragStart(){j=o.splice(L,1)[0],he.set(o)}})}function G(u){u.preventDefault(),t(1,m=u.currentTarget.dataset.id)}document.addEventListener("pointerdown",({target:u})=>{typeof m=="string"&&!document.querySelector(`*[data-id="${m}"] .format-dialog`).contains(u)&&t(1,m=null)});const ue=(u,v,R,D)=>ll(he,v[R]=D.target.value,o);function oe(u,v){l.$$.not_equal(v.data.format.color,u)&&(v.data.format.color=u,he.set(o))}function J(u,v){l.$$.not_equal(v.data.format.backgroundColor,u)&&(v.data.format.backgroundColor=u,he.set(o))}function fe(u,v){l.$$.not_equal(v.data.format.textStyles,u)&&(v.data.format.textStyles=u,he.set(o))}function F(u){Se[u?"unshift":"push"](()=>{r=u,t(0,r)})}function ae(u){Se[u?"unshift":"push"](()=>{n=u,t(3,n)})}return l.$$.update=()=>{if(l.$$.dirty[0]&8194&&m){const u=w.find(v=>v.el.dataset.id===m);u&&t(4,Y=parseInt(getComputedStyle(u.el.querySelector(".format-dialog")).minWidth)+u.left>window.innerWidth)}l.$$.dirty[0]&5&&ie()},[r,m,o,n,Y,E,M,Z,a,s,K,ce,G,w,ue,oe,J,fe,F,ae]}class El extends je{constructor(e){super();Fe(this,e,kl,vl,Oe,{},null,[-1,-1])}}export{El as default};
